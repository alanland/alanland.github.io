(window.webpackJsonp=window.webpackJsonp||[]).push([[336],{1057:function(t,s,a){"use strict";a.r(s);var n=a(6),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装"}},[t._v("#")]),t._v(" 安装")]),t._v(" "),a("p",[t._v("使用容器安装，并增加 AWS S3 的相关 jar 包：")]),t._v(" "),a("div",{staticClass:"language-yaml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yaml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'2'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("services")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("kylin")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" apachekylin/apache"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("kylin"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("standalone"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("3.0.1\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("container_name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" kylin\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("hostname")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" kylin\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ports")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" 7070"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("7070")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# kylin")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" 8088"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8088")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# yarn ResourceManager")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" 50070"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("50070")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# hdfs NameNode")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" 10000"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10000")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# hive thrift server")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" 10002"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("10002")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# hive thrift web ui")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" 8032"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8032")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" 8042"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("8042")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" 16010"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("16010")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# hbase")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" 60010"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("60010")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("# hbase")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("environment")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" HIVE_SERVER2_THRIFT_BIND_HOST"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("0.0.0.0\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" AWS_ACCESS_KEY_ID=AKIAOLRE\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" AWS_SECRET_ACCESS_KEY=e7ciK6eefQs8tBzJHx\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("volumes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" ./hive"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("site.xml"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("/home/admin/apache"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("hive"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("1.2.1"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("bin/conf/hive"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("site.xml\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" ./hadoop"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("aws"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("2.7.0.jar"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("/home/admin/hadoop"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("2.7.0/share/hadoop/common/hadoop"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("aws"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("2.7.0.jar\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" ./aws"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("sdk"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("1.11.759.jar"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("/home/admin/hadoop"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("2.7.0/share/hadoop/common/aws"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("sdk"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("core"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("1.11.759.jar\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" ./aws"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("sdk"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("s3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("1.11.759.jar"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("/home/admin/hadoop"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("2.7.0/share/hadoop/common/aws"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("java"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("sdk"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("s3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("1.11.759.jar\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" ./hadoop"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("client"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("2.7.0.jar"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("/home/admin/hadoop"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("2.7.0/share/hadoop/common/hadoop"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("client"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("2.7.0.jar\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br")])]),a("h2",{attrs:{id:"hive-thrift-web-ui"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#hive-thrift-web-ui"}},[t._v("#")]),t._v(" Hive Thrift Web UI")]),t._v(" "),a("p",[t._v("启动 "),a("a",{attrs:{href:"https://cwiki.apache.org/confluence/display/Hive/GettingStarted#GettingStarted-RunningHive",target:"_blank",rel:"noopener noreferrer"}},[t._v("HiveServer2"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[t._v("/home/admin/apache-hive-1.2.1-bin/hiveserver2\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])]),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Thrift version configured by property thrift_version might be too high. \nRequest failed with \"Required field 'client_protocol' is unset! \nStruct:TOpenSessionReq(client_protocol:null, username:hue, \nconfiguration:{hive.server2.proxy.user=admin})\" (code OPEN_SESSION): None\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])])])}),[],!1,null,null,null);s.default=e.exports}}]);