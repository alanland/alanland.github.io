(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{623:function(s,a,t){s.exports=t.p+"assets/img/prometheus-alert.59d45aee.png"},820:function(s,a,t){"use strict";t.r(a);var n=t(6),e=Object(n.a)({},(function(){var s=this,a=s.$createElement,n=s._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[n("h2",{attrs:{id:"docker-compose-yml"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#docker-compose-yml"}},[s._v("#")]),s._v(" docker-compose.yml")]),s._v(" "),n("div",{staticClass:"language-yaml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[s._v("\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("services")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("prometheus")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("image")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" prom/prometheus"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("v1.5.2\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("container_name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" prometheus\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("volumes")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" ./prometheus/"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("/etc/prometheus/\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" prometheus_data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("/prometheus\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("command")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'-config.file=/etc/prometheus/prometheus.yml'")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'-storage.local.path=/prometheus'")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'-alertmanager.url=http://alertmanager:9093'")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("expose")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9090")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("ports")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" 30020"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9090")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("links")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" alertmanager"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("alertmanager\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("networks")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" back"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("tier\n  \n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("alertmanager")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("container_name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" alert"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("manager\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("image")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" prom/alertmanager"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("v0.5.1\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("ports")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" 9093"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),n("span",{pre:!0,attrs:{class:"token number"}},[s._v("9093")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("volumes")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" \n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" ./alertmanager/"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("/etc/alertmanager/\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("networks")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" back"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("tier\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("command")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'-config.file=/etc/alertmanager/config.yml'")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'-storage.path=/alertmanager'")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("environment")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" SMTP_AUTH_USERNAME=xxx@xxx.com\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" SMTP_AUTH_PASSWORD=xxxxx\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br"),n("span",{staticClass:"line-number"},[s._v("32")]),n("br"),n("span",{staticClass:"line-number"},[s._v("33")]),n("br"),n("span",{staticClass:"line-number"},[s._v("34")]),n("br"),n("span",{staticClass:"line-number"},[s._v("35")]),n("br"),n("span",{staticClass:"line-number"},[s._v("36")]),n("br")])]),n("h2",{attrs:{id:"prometheus-config"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#prometheus-config"}},[s._v("#")]),s._v(" prometheus config")]),s._v(" "),n("div",{staticClass:"language-yaml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# my global config")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("global")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("scrape_interval")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("     15s "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# By default, scrape targets every 15 seconds.")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("evaluation_interval")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 15s "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# By default, scrape targets every 15 seconds.")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# scrape_timeout is set to the global default (10s).")]),s._v("\n\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Attach these labels to any time series or alerts when communicating with")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# external systems (federation, remote storage, Alertmanager).")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("external_labels")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("monitor")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'my-project'")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Load and evaluate rules in this file every 'evaluation_interval' seconds.")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("rule_files")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v('"alert.rules"')]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# - "first.rules"')]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v('# - "second.rules"')]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# A scrape configuration containing exactly one endpoint to scrape:")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Here it's Prometheus itself.")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("scrape_configs")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("job_name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'springboot0'")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("scrape_interval")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 3s\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("scrape_timeout")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 1s\n\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("metrics_path")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/prometheus'")]),s._v("\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("static_configs")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("targets")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'192.168.95.49:7777'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n        "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("labels")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("group")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'proj'")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("node")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'xxx'")]),s._v("\n          "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("proj")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'xxx'")]),s._v("\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br")])]),n("h2",{attrs:{id:"alert-rules"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#alert-rules"}},[s._v("#")]),s._v(" alert.rules")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('ALERT service_down\n  IF up == 0\n\nALERT high_load\n  IF node_load1 > 0.5\n  ANNOTATIONS {\n      summary = "Instance {{ $labels.instance }} under high load",\n      description = "{{ $labels.instance }} of job {{ $labels.job }} is under high load.",\n  }\n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br")])]),n("h2",{attrs:{id:"alertmanager-config"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#alertmanager-config"}},[s._v("#")]),s._v(" alertmanager config")]),s._v(" "),n("div",{staticClass:"language-yaml line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-yaml"}},[n("code",[n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("global")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# The smarthost and SMTP sender used for mail notifications.")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("smtp_smarthost")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'smtp.xxx.com:994'")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("smtp_from")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[s._v("'xxx@xxx.com'")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  smtp_auth_username: awang@ittx.com")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  smtp_auth_password: Chengyi.1")]),s._v("\n\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("route")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("group_by")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("Alertname"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Send all notifications to me.")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("receiver")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" email"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("me\n\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("group_wait")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 3s\n\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# When the first notification was sent, wait 'group_interval' to send a batch")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# of new alerts that started firing for that group.")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("group_interval")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 5s\n\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# If an alert has successfully been sent, wait 'repeat_interval' to")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# resend them.")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("repeat_interval")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 10s\n\n  "),n("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# A default receiver")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("receiver")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" email"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("me\n\n"),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("receivers")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" email"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("me\n  "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("email_configs")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("to")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" xxx@xxx.com.cn\n    "),n("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("from")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" xxx@xxx.com\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br"),n("span",{staticClass:"line-number"},[s._v("21")]),n("br"),n("span",{staticClass:"line-number"},[s._v("22")]),n("br"),n("span",{staticClass:"line-number"},[s._v("23")]),n("br"),n("span",{staticClass:"line-number"},[s._v("24")]),n("br"),n("span",{staticClass:"line-number"},[s._v("25")]),n("br"),n("span",{staticClass:"line-number"},[s._v("26")]),n("br"),n("span",{staticClass:"line-number"},[s._v("27")]),n("br"),n("span",{staticClass:"line-number"},[s._v("28")]),n("br"),n("span",{staticClass:"line-number"},[s._v("29")]),n("br"),n("span",{staticClass:"line-number"},[s._v("30")]),n("br"),n("span",{staticClass:"line-number"},[s._v("31")]),n("br")])]),n("h2",{attrs:{id:"prometheus"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#prometheus"}},[s._v("#")]),s._v(" prometheus")]),s._v(" "),n("p",[n("img",{attrs:{src:t(623),alt:""}})]),s._v(" "),n("h2",{attrs:{id:"alert-manager"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#alert-manager"}},[s._v("#")]),s._v(" alert manager")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v('alert-manager   | time="2017-06-27T05:15:41Z" level=error msg="Error on notify: EOF" source="notify.go:272" \nalert-manager   | time="2017-06-27T05:15:41Z" level=error msg="Notify for 2 alerts failed: EOF" source="dispatch.go:246" \nalert-manager   | time="2017-06-27T05:16:01Z" level=error msg="Error on notify: EOF" source="notify.go:272" \nalert-manager   | time="2017-06-27T05:16:01Z" level=error msg="Notify for 2 alerts failed: EOF" source="dispatch.go:246" \nalert-manager   | time="2017-06-27T05:16:21Z" level=error msg="Error on notify: EOF" source="notify.go:272" \nalert-manager   | time="2017-06-27T05:16:21Z" level=error msg="Notify for 2 alerts failed: EOF" source="dispatch.go:246" \nalert-manager   | time="2017-06-27T05:16:42Z" level=error msg="Error on notify: EOF" source="notify.go:272" \nalert-manager   | time="2017-06-27T05:16:42Z" level=error msg="Notify for 2 alerts failed: EOF" source="dispatch.go:246" \nalert-manager   | time="2017-06-27T05:17:02Z" level=error msg="Error on notify: EOF" source="notify.go:272" \nalert-manager   | time="2017-06-27T05:17:02Z" level=error msg="Notify for 2 alerts failed: EOF" source="dispatch.go:246" \nalert-manager   | time="2017-06-27T05:17:22Z" level=error msg="Error on notify: EOF" source="notify.go:272" \nalert-manager   | time="2017-06-27T05:17:22Z" level=error msg="Notify for 2 alerts failed: EOF" source="dispatch.go:246" \nalert-manager   | time="2017-06-27T05:17:42Z" level=error msg="Error on notify: EOF" source="notify.go:272" \nalert-manager   | time="2017-06-27T05:17:42Z" level=error msg="Notify for 2 alerts failed: EOF" source="dispatch.go:246" \nalert-manager   | time="2017-06-27T05:18:03Z" level=error msg="Error on notify: EOF" source="notify.go:272" \nalert-manager   | time="2017-06-27T05:18:03Z" level=error msg="Notify for 2 alerts failed: EOF" source="dispatch.go:246" \nalert-manager   | time="2017-06-27T05:18:23Z" level=error msg="Error on notify: EOF" source="notify.go:272" \nalert-manager   | time="2017-06-27T05:18:23Z" level=error msg="Notify for 2 alerts failed: EOF" source="dispatch.go:246" \nalert-manager   | time="2017-06-27T05:18:43Z" level=error msg="Error on notify: EOF" source="notify.go:272" \nalert-manager   | time="2017-06-27T05:18:43Z" level=error msg="Notify for 2 alerts failed: EOF" source="dispatch.go:246" \n')])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br"),n("span",{staticClass:"line-number"},[s._v("14")]),n("br"),n("span",{staticClass:"line-number"},[s._v("15")]),n("br"),n("span",{staticClass:"line-number"},[s._v("16")]),n("br"),n("span",{staticClass:"line-number"},[s._v("17")]),n("br"),n("span",{staticClass:"line-number"},[s._v("18")]),n("br"),n("span",{staticClass:"line-number"},[s._v("19")]),n("br"),n("span",{staticClass:"line-number"},[s._v("20")]),n("br")])]),n("h2",{attrs:{id:"相关链接"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#相关链接"}},[s._v("#")]),s._v(" 相关链接")]),s._v(" "),n("p",[s._v("https://github.com/prometheus/alertmanager/issues/766\nhttps://github.com/prometheus/alertmanager/issues/705\nhttps://github.com/prometheus/alertmanager/issues/275\nhttps://github.com/prometheus/alertmanager/pull/266\nhttps://github.com/prometheus/alertmanager/issues/327\nhttps://github.com/prometheus/alertmanager/pull/308\nhttps://prometheus.io/docs/alerting/configuration/#email-receiver-\nhttps://www.robustperception.io/sending-email-with-the-alertmanager-via-gmail/")]),s._v(" "),n("h2",{attrs:{id:"exmail和163mail的smtp配置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#exmail和163mail的smtp配置"}},[s._v("#")]),s._v(" exmail和163mail的smtp配置")]),s._v(" "),n("h3",{attrs:{id:"exmail"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#exmail"}},[s._v("#")]),s._v(" exmail")]),s._v(" "),n("div",{staticClass:"language- line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[s._v("POP3/SMTP协议\n接收邮件服务器：pop.exmail.qq.com ，使用SSL，端口号995\n发送邮件服务器：smtp.exmail.qq.com ，使用SSL，端口号465\n海外用户可使用以下服务器\n接收邮件服务器：hwpop.exmail.qq.com ，使用SSL，端口号995\n发送邮件服务器：hwsmtp.exmail.qq.com ，使用SSL，端口号465\n \nIMAP协议\n接收邮件服务器：imap.exmail.qq.com  ，使用SSL，端口号993\n发送邮件服务器：smtp.exmail.qq.com ，使用SSL，端口号465\n海外用户可使用以下服务器\n接收邮件服务器：hwimap.exmail.qq.com ，使用SSL，端口号993\n发送邮件服务器：hwsmtp.exmail.qq.com ，使用SSL，端口号465\n")])]),s._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[s._v("1")]),n("br"),n("span",{staticClass:"line-number"},[s._v("2")]),n("br"),n("span",{staticClass:"line-number"},[s._v("3")]),n("br"),n("span",{staticClass:"line-number"},[s._v("4")]),n("br"),n("span",{staticClass:"line-number"},[s._v("5")]),n("br"),n("span",{staticClass:"line-number"},[s._v("6")]),n("br"),n("span",{staticClass:"line-number"},[s._v("7")]),n("br"),n("span",{staticClass:"line-number"},[s._v("8")]),n("br"),n("span",{staticClass:"line-number"},[s._v("9")]),n("br"),n("span",{staticClass:"line-number"},[s._v("10")]),n("br"),n("span",{staticClass:"line-number"},[s._v("11")]),n("br"),n("span",{staticClass:"line-number"},[s._v("12")]),n("br"),n("span",{staticClass:"line-number"},[s._v("13")]),n("br")])]),n("hr"),s._v(" "),n("p",[s._v("END")])])}),[],!1,null,null,null);a.default=e.exports}}]);