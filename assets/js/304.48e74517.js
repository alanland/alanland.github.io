(window.webpackJsonp=window.webpackJsonp||[]).push([[304],{1020:function(s,e,a){"use strict";a.r(e);var t=a(6),l=Object(t.a)({},(function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"本地安装-helm"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#本地安装-helm"}},[s._v("#")]),s._v(" 本地安装 Helm")]),s._v(" "),a("ul",[a("li",[s._v("https://github.com/helm/helm/blob/master/docs/install.md?spm=a2c63.p38356.879954.12.1d62b5f9rkeyz2&file=install.md")])]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("brew "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" kubernetes-helm\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("配置repo")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("helm init --client-only --stable-repo-url https://aliacs-app-catalog.oss-cn-hangzhou.aliyuncs.com/charts/\nhelm repo "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" incubator https://aliacs-app-catalog.oss-cn-hangzhou.aliyuncs.com/charts-incubator/\nhelm repo update\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h2",{attrs:{id:"查看-version"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查看-version"}},[s._v("#")]),s._v(" 查看 Version")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("helm version\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"升级tiller"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#升级tiller"}},[s._v("#")]),s._v(" 升级tiller")]),s._v(" "),a("p",[s._v("根据本地的版本号")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("helm init --tiller-image registry.cn-hangzhou.aliyuncs.com/acs/tiller:v2.11.0 --upgrade\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("其中镜像地址可使用对应region的vpc域名，比如杭州region的机器就可以替换为registry-vpc.cn-hangzhou.aliyuncs.com/acs/tiller:v2.11.0")]),s._v(" "),a("h2",{attrs:{id:"helm-常用命令"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#helm-常用命令"}},[s._v("#")]),s._v(" Helm 常用命令")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("helm list "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# ls")]),s._v("\nhelm repo list\nhelm search \nhelm search 存储库名称 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#如 stable 或 incubator")]),s._v("\nhelm search chart名称 "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#如 wordpress 或 spark")]),s._v("\nhelm repo update\nhelm "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" --name wordpress-test stable/wordpress\nhelm upgrade wordpress-test stable/wordpress\nhelm delete wordpress-test\nhelm delete --purge wordpress-test\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 本地文件安装")]),s._v("\nhelm "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" --name rabbitmq --namespace public-service -f stable/rabbitmq-ha/values.yaml stable/rabbitmq-ha\nhelm upgrade rabbitmq  --namespace public-service -f stable/rabbitmq-ha/values.yaml stable/rabbitmq-ha\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("helm search\nhelm search mysql\nhelm inspect stable/mysql\nhelm inspect chart stable/mysql\nhelm inspect values stable/mysql\nhelm "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -f config.yaml --name mysql stable/mysql\nhelm get values mysql\nhelm rollback mysql "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\nhelm delete mysql\nhelm del --purge mysql\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("p",[s._v("可以在 https://kubeapps.com/ 上查找第三方高质量的Chart。")]),s._v(" "),a("hr"),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://www.alibabacloud.com/help/zh/doc-detail/87014.html?spm=a2c5t.10695662.1996646101.searchclickresult.228316b17uGQ6O",target:"_blank",rel:"noopener noreferrer"}},[s._v("Helm 手动升级"),a("OutboundLink")],1)]),s._v(" "),a("li",[s._v("https://www.alibabacloud.com/help/zh/doc-detail/85935.htm")]),s._v(" "),a("li",[a("a",{attrs:{href:"https://www.alibabacloud.com/help/zh/doc-detail/86511.html?spm=a2c5t.11065259.1996646101.searchclickresult.6ba37e1cw0AnZ3",target:"_blank",rel:"noopener noreferrer"}},[s._v("利用 Helm 简化应用部署"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://whmzsu.github.io/helm-doc-zh-cn/quickstart/using_helm-zh_cn.html",target:"_blank",rel:"noopener noreferrer"}},[s._v("Helm 使用"),a("OutboundLink")],1)])])])}),[],!1,null,null,null);e.default=l.exports}}]);