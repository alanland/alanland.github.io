(window.webpackJsonp=window.webpackJsonp||[]).push([[254],{965:function(s,e,a){"use strict";a.r(e);var t=a(6),n=Object(t.a)({},(function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("p",[s._v("运行命令，deploy：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ kubectl create -f https://raw.githubusercontent.com/kubernetes/dashboard/master/src/deploy/recommended/kubernetes-dashboard.yaml\nsecret "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"kubernetes-dashboard-certs"')]),s._v(" created\nserviceaccount "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"kubernetes-dashboard"')]),s._v(" created\nrole "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"kubernetes-dashboard-minimal"')]),s._v(" created\nrolebinding "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"kubernetes-dashboard-minimal"')]),s._v(" created\ndeployment "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"kubernetes-dashboard"')]),s._v(" created\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"kubernetes-dashboard"')]),s._v(" created\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[s._v("执行：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ kubectl proxy\nStarting to serve on "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.1:8001\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("访问：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("http://127.0.0.1:8001/ui\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("自动跳转到：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("http://127.0.0.1:8001/api/v1/namespaces/kube-system/services/https:kubernetes-dashboard:/proxy/\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('{\n  "kind": "Status",\n  "apiVersion": "v1",\n  "metadata": {\n    \n  },\n  "status": "Failure",\n  "message": "no endpoints available for service \\"https:kubernetes-dashboard:\\"",\n  "reason": "ServiceUnavailable",\n  "code": 503\n}\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("p",[s._v("编辑这个文件：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("$ kubectl -n kube-system edit service kubernetes-dashboard\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("看着没啥问题。")]),s._v(" "),a("ul",[a("li",[s._v("https://stackoverflow.com/questions/38411595/kubernetes-dashboard-keeps-pending-with-message-no-endpoints-available-for-serv")])]),s._v(" "),a("p",[s._v("The other possibility is that you have no resources in the cluster and the scheduler fails to schedule the Dashboard UI. If this is true you can see this in cluster events ("),a("code",[s._v("kubectl get events --namespace=kube-system")]),s._v(").")]),s._v(" "),a("p",[s._v("根据上面解答：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ kubectl get events --namespace"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("kube-system\nLAST SEEN   FIRST SEEN   COUNT     NAME                                                     KIND      SUBOBJECT                               TYPE      REASON    SOURCE                        MESSAGE\n43m         1h           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),s._v("        kubernetes-dashboard-5bd6f767c7-tfz6k.1526c8d91d9b3023   Pod       spec.containers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("kubernetes-dashboard"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("   Warning   Failed    kubelet, docker-for-desktop   Failed to pull image "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"k8s.gcr.io/kubernetes-dashboard-amd64:v1.8.3"')]),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" rpc error: code "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Unknown desc "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Error response from daemon: Get https://k8s.gcr.io/v2/: net/http: request canceled "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" waiting "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" connection "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Client.Timeout exceeded "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" awaiting headers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n28m         1h           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("262")]),s._v("       kubernetes-dashboard-5bd6f767c7-tfz6k.1526c8d9549de21b   Pod       spec.containers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("kubernetes-dashboard"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("   Normal    BackOff   kubelet, docker-for-desktop   Back-off pulling image "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"k8s.gcr.io/kubernetes-dashboard-amd64:v1.8.3"')]),s._v("\n3m          1h           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("364")]),s._v("       kubernetes-dashboard-5bd6f767c7-tfz6k.1526c8d9549e13de   Pod       spec.containers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("kubernetes-dashboard"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("   Warning   Failed    kubelet, docker-for-desktop   Error: ImagePullBackOff\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("发现下载image失败，手动下载：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ docker pull k8s.gcr.io/kubernetes-dashboard-amd64:v1.8.3\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("重启 dashboard container,访问："),a("code",[s._v("http://127.0.0.1:8001/ui")]),s._v("，出现画面。")]),s._v(" "),a("p",[a("code",[s._v("Skip")]),s._v(" 账户的配置，直接进入dashboard。")]),s._v(" "),a("h2",{attrs:{id:"阿里云加速"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#阿里云加速"}},[s._v("#")]),s._v(" "),a("a",{attrs:{href:"https://dev.aliyun.com/detail.html?spm=5176.100239.blogcont71037.14.mqVzEj&repoId=12625",target:"_blank",rel:"noopener noreferrer"}},[s._v("阿里云加速"),a("OutboundLink")],1)]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("docker pull registry.cn-hangzhou.aliyuncs.com/google-containers/hyperkube-amd64\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"docker-demos"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-demos"}},[s._v("#")]),s._v(" Docker Demos")]),s._v(" "),a("p",[s._v("Docker 同样为我们提供了简单的应用示范，可以直接使用如下的 Docker Compose 配置文件:")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" -p web/static\n$ "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("echo")]),s._v(" hello "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" web/static/index.html\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("div",{staticClass:"language-yml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yml"}},[a("code",[a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("version")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'3.3'")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("services")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("web")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("build")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" web\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" dockerdemos/lab"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("web\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("volumes")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n     "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"./web/static:/static"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("ports")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n     "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"80:80"')]),s._v("\n\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("words")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("build")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" words\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" dockerdemos/lab"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("words\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("deploy")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("replicas")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("endpoint_mode")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" dnsrr\n      "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("resources")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("limits")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("memory")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 16M\n        "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("reservations")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n          "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("memory")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" 16M\n\n  "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("db")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("build")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" db\n    "),a("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("image")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" dockerdemos/lab"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("db\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br")])]),a("p",[s._v("然后使用 stack 命令创建应用栈：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ docker stack deploy --compose-file stack.yml demo\n\nStack demo was created\nWaiting "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" the stack to be stable and running"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n - Service web has one container running\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("查看pods：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ kubectl get pods\n$ kubectl get deployments\n$ kubectl get services\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("移除：")]),s._v(" "),a("div",{staticClass:"language-sh line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-sh"}},[a("code",[s._v("$ docker stack remove demo\n$ kubectl delete deployment kubernetes-dashboard --namespace kube-system\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("hr"),s._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://kubernetes.io/docs/tasks/access-application-cluster/web-ui-dashboard/#deploying-the-dashboard-ui",target:"_blank",rel:"noopener noreferrer"}},[s._v("Deploying the Dashboard UI"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/kubernetes/dashboard/wiki/Installation#recommended-setup",target:"_blank",rel:"noopener noreferrer"}},[s._v("Dashboard Installation"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/kubernetes/dashboard/blob/master/README.md#getting-started",target:"_blank",rel:"noopener noreferrer"}},[s._v("Github Dashboard"),a("OutboundLink")],1)]),s._v(" "),a("li",[a("a",{attrs:{href:"https://segmentfault.com/a/1190000012850396",target:"_blank",rel:"noopener noreferrer"}},[s._v("基于 Docker for MAC 的 Kubernetes 本地环境搭建与应用部署"),a("OutboundLink")],1)])]),s._v(" "),a("h1",{attrs:{id:"首页"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#首页"}},[s._v("#")]),s._v(" 首页")]),s._v(" "),a("ul",[a("li",[s._v("数量不显示")])]),s._v(" "),a("h1",{attrs:{id:"交易"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#交易"}},[s._v("#")]),s._v(" 交易")]),s._v(" "),a("ul",[a("li",[s._v("没有过滤优惠券")]),s._v(" "),a("li",[s._v("图没有数据")]),s._v(" "),a("li",[s._v("图不显示今天")]),s._v(" "),a("li",[s._v("条件品类下拉不显示")]),s._v(" "),a("li",[s._v("没有查询已完成的")]),s._v(" "),a("li",[s._v("状态显示错误")])]),s._v(" "),a("h1",{attrs:{id:"订单"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#订单"}},[s._v("#")]),s._v(" 订单")]),s._v(" "),a("ul",[a("li",[s._v("没有过滤优惠券")])])])}),[],!1,null,null,null);e.default=n.exports}}]);